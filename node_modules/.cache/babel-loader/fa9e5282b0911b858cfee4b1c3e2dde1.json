{"ast":null,"code":"var _jsxFileName = \"/Users/soondubu/Desktop/Strangerthings/src/Components/MessageForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\nconst MessageForm = ({\n  posts,\n  token,\n  fetchPosts,\n  post\n}) => {\n  _s();\n\n  const [content, setContent] = useState('');\n  const history = useHistory();\n\n  const handleSubmit = async ev => {\n    ev.preventDefault();\n    await fetch(`${baseURL}/posts/${post._id}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message: {\n          content\n        }\n      })\n    }).then(response => response.json()).then(result => {}).catch(console.error);\n    history.push(\"./\"); // fetch vacations again\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        placeholder: \"write a message\",\n        onChange: event => setContent(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !content,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(MessageForm, \"roYtcYrENaqn9Lw9V3pHPF3FbSo=\", false, function () {\n  return [useHistory];\n});\n\n_c = MessageForm;\nexport default MessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/MessageForm.js"],"names":["React","useState","useHistory","baseURL","MessageForm","posts","token","fetchPosts","post","content","setContent","history","handleSubmit","ev","preventDefault","fetch","_id","method","headers","body","JSON","stringify","message","then","response","json","result","catch","console","error","push","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,cAA3B;;;AACA,MAAMC,OAAO,GAAG,+DAAhB;;AAGA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,KAAR;AAAeC,EAAAA,UAAf;AAA2BC,EAAAA;AAA3B,CAAD,KAAsC;AAAA;;AACxD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAyBT,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAMU,OAAO,GAAGT,UAAU,EAA1B;;AACA,QAAMU,YAAY,GAAG,MAAOC,EAAP,IAAc;AACjCA,IAAAA,EAAE,CAACC,cAAH;AACD,UAAMC,KAAK,CAAE,GAAEZ,OAAQ,UAASK,IAAI,CAACQ,GAAI,WAA9B,EAA0C;AAChDC,MAAAA,MAAM,EAAE,MADwC;AAEhDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAkB,UAASZ,KAAM;AAF5B,OAFuC;AAMhDa,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,OAAO,EAAE;AACTb,UAAAA;AADS;AADQ,OAAf;AAN0C,KAA1C,CAAL,CAWEc,IAXF,CAWOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXnB,EAYAF,IAZA,CAYKG,MAAM,IAAI,CACf,CAbA,EAcAC,KAdA,CAcMC,OAAO,CAACC,KAdd,CAAN;AAeKlB,IAAAA,OAAO,CAACmB,IAAR,CAAa,IAAb,EAjB6B,CAkBjC;AACD,GAnBD;;AAoBA,sBAAO;AAAA,2BACL;AAAM,MAAA,QAAQ,EAAElB,YAAhB;AAAA,8BACQ;AAAO,QAAA,KAAK,EAAEH,OAAd;AAAuB,QAAA,WAAW,EAAC,iBAAnC;AAAqD,QAAA,QAAQ,EAAGsB,KAAD,IAAWrB,UAAU,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd;AAApF;AAAA;AAAA;AAAA;AAAA,cADR,eAGQ;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAI,CAACxB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AADK,mBAAP;AAOD,CA9BD;;GAAML,W;UAEYF,U;;;KAFZE,W;AAgCN,eAAeA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\n\nconst MessageForm = ({posts, token, fetchPosts, post}) => {\n  const [content, setContent ] = useState('');\n  const history = useHistory()\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n   await fetch(`${baseURL}/posts/${post._id}/messages`, {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n            message: {\n            content \n            }\n        })\n        }).then(response => response.json())\n        .then(result => {\n        })\n        .catch(console.error);\n        history.push(\"./\")\n    // fetch vacations again\n  }\n  return <>\n    <form onSubmit={handleSubmit}>\n            <input value={content} placeholder='write a message' onChange={(event) => setContent(event.target.value)}>\n            </input> \n            <button type='submit' disabled = {!content}>Send</button>\n            </form>\n  </>\n}\n\nexport default MessageForm;\n"]},"metadata":{},"sourceType":"module"}