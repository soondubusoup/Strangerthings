{"ast":null,"code":"import _regeneratorRuntime from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var NewPost=function NewPost(_ref){var token=_ref.token,fetchPosts=_ref.fetchPosts;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var history=useHistory();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch(\"\".concat(baseURL,\"/posts\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}})}).then(function(response){return response.json();}).then(function(result){}).catch(console.error);case 3:_context.next=5;return fetchPosts();case 5:history.push(\"./posts\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",value:title,onChange:function onChange(event){return setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"description\",value:description,onChange:function onChange(event){return setDescription(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"price\",value:price,onChange:function onChange(event){return setPrice(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"location\",value:location,onChange:function onChange(event){return setLocation(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"willDeliver\"}),/*#__PURE__*/_jsxs(\"select\",{type:\"text\",placeholder:\"no/yes\",value:willDeliver,onChange:function onChange(event){return setWillDeliver(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"no\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"yes\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post\"})]})]});};export default NewPost;","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/NewPost.js"],"names":["React","useState","useHistory","baseURL","NewPost","token","fetchPosts","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","history","event","preventDefault","fetch","method","headers","Authorization","body","JSON","stringify","post","then","response","json","result","catch","console","error","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\nconst NewPost = ({ token, fetchPosts }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [willDeliver, setWillDeliver] = useState(false);\n  const history = useHistory();\n  return (\n    <>\n      <h1>Create Post</h1>\n\n      <form\n        onSubmit={async (event) => {\n          event.preventDefault();\n\n          await fetch(`${baseURL}/posts`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n              post: {\n                title,\n                description,\n                price,\n                location,\n                willDeliver,\n              },\n            }),\n          })\n            .then((response) => response.json())\n            .then((result) => {})\n            .catch(console.error);\n          await fetchPosts();\n          history.push(\"./posts\");\n        }}\n      >\n        <fieldset>\n          <label>Title</label>\n          <input\n            type=\"text\"\n            placeholder=\"title\"\n            value={title}\n            onChange={(event) => setTitle(event.target.value)}\n          ></input>\n        </fieldset>\n\n        <fieldset>\n          <label>description</label>\n          <input\n            type=\"text\"\n            placeholder=\"description\"\n            value={description}\n            onChange={(event) => setDescription(event.target.value)}\n          ></input>\n        </fieldset>\n\n        <fieldset>\n          <label>price</label>\n          <input\n            type=\"text\"\n            placeholder=\"price\"\n            value={price}\n            onChange={(event) => setPrice(event.target.value)}\n          ></input>\n        </fieldset>\n\n        <fieldset>\n          <label>location</label>\n          <input\n            type=\"text\"\n            placeholder=\"location\"\n            value={location}\n            onChange={(event) => setLocation(event.target.value)}\n          ></input>\n        </fieldset>\n\n        <fieldset>\n          <label>willDeliver</label>\n          <select\n            type=\"text\"\n            placeholder=\"no/yes\"\n            value={willDeliver}\n            onChange={(event) => setWillDeliver(event.target.value)}\n          >\n            <option value=\"false\">no</option>\n            <option value=\"true\">yes</option>\n          </select>\n        </fieldset>\n        <button type=\"submit\">Post</button>\n      </form>\n    </>\n  );\n};\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}