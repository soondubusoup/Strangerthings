{"ast":null,"code":"import _regeneratorRuntime from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import SinglePost from'./SinglePost';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var fetchPosts=_ref.fetchPosts,posts=_ref.posts,setPosts=_ref.setPosts;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isTitle=_useState4[0],setIsTitle=_useState4[1];var handleFilter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var filteredPosts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isTitle?filteredPosts=posts.filter(function(post){return post.title.toLowerCase().includes(query.toLowerCase());}):filteredPosts=posts.filter(function(post){return post.description.toLowerCase().includes(query.toLowerCase());});setPosts(filteredPosts);_context.t0=query==='';if(!_context.t0){_context.next=6;break;}_context.next=6;return fetchPosts();case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleFilter(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onChange:handleFilter,children:[/*#__PURE__*/_jsx(\"input\",{name:\"search\",type:\"text\",placeholder:\"FILTER POSTS\",className:\"search-input\",value:query,onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-button\",children:\"reset\"}),/*#__PURE__*/_jsx(\"div\",{})]});};export default Search;","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/Search.js"],"names":["React","useState","SinglePost","Search","fetchPosts","posts","setPosts","query","setQuery","isTitle","setIsTitle","handleFilter","filteredPosts","filter","post","title","toLowerCase","includes","description","e","target","value"],"mappings":"odAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAmC,IAAjCC,CAAAA,UAAiC,MAAjCA,UAAiC,CAArBC,KAAqB,MAArBA,KAAqB,CAAdC,QAAc,MAAdA,QAAc,CAE9C,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAA8BP,QAAQ,CAAC,IAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,YAAY,2FAAG,qJAEjBF,OAAO,CACDG,aAAa,CAAGP,KAAK,CAACQ,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAmCV,KAAK,CAACS,WAAN,EAAnC,CAAJ,EAAjB,CADf,CAEDJ,aAAa,CAAGP,KAAK,CAACQ,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACI,WAAL,CAAiBF,WAAjB,GAA+BC,QAA/B,CAAyCV,KAAK,CAACS,WAAN,EAAzC,CAAJ,EAAjB,CAFtB,CAGAV,QAAQ,CAACM,aAAD,CAAR,CALiB,YAMjBL,KAAK,GAAK,EANO,+DAMKH,CAAAA,UAAU,EANf,uDAAH,kBAAZO,CAAAA,YAAY,2CAAlB,CASA,mBAAO,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEA,YAAxC,wBACH,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,MAA1B,CAAiC,WAAW,CAAC,cAA7C,CAA4D,SAAS,CAAC,cAAtE,CAAqF,KAAK,CAAEJ,KAA5F,CAAmG,QAAQ,CAAE,kBAACY,CAAD,QAAMX,CAAAA,QAAQ,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAA7G,EADG,cAEH,eAAQ,IAAI,CAAC,QAAb,CAAqB,SAAS,CAAC,eAA/B,mBAFG,cAGH,cAHG,GAAP,CAKH,CAnBD,CAqBA,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useState } from 'react';\nimport SinglePost from './SinglePost';\n\nconst Search = ({fetchPosts, posts, setPosts}) => {\n\n    const [query, setQuery] = useState('')\n    const [isTitle, setIsTitle] = useState(true);\n    \n    const handleFilter = async () => {\n        let filteredPosts\n        isTitle \n            ? filteredPosts = posts.filter(post => post.title.toLowerCase().includes( query.toLowerCase() ))\n            : filteredPosts = posts.filter(post => post.description.toLowerCase().includes( query.toLowerCase() ))\n        setPosts(filteredPosts);\n        query === '' && await fetchPosts();\n    }\n\n    return <form className='search-form' onChange={handleFilter}>\n        <input name='search' type='text' placeholder='FILTER POSTS' className='search-input' value={query} onChange={(e)=> setQuery(e.target.value)} />       \n        <button type='submit'className='search-button' >reset</button>\n        <div></div>\n    </form>\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}