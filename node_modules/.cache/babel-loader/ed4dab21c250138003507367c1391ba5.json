{"ast":null,"code":"import _regeneratorRuntime from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var MessageForm=function MessageForm(_ref){var posts=_ref.posts,token=_ref.token,fetchPosts=_ref.fetchPosts,post=_ref.post;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ev){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_context.next=3;return fetch(\"\".concat(baseURL,\"/posts/\").concat(post._id,\"/messages\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({message:{content:content}})}).then(function(response){return response.json();}).then(function(result){}).catch(console.error);case 3:history.push(\"./\");case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:content,placeholder:\"write a message\",onChange:function onChange(event){return setContent(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!content,children:\"Send\"})]})});};export default MessageForm;","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/MessageForm.js"],"names":["React","useState","useHistory","baseURL","MessageForm","posts","token","fetchPosts","post","content","setContent","history","handleSubmit","ev","preventDefault","fetch","_id","method","headers","Authorization","body","JSON","stringify","message","then","response","json","result","catch","console","error","push","event","target","value"],"mappings":"odAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,cAA3B,C,6IACA,GAAMC,CAAAA,OAAO,CAAG,+DAAhB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAwC,IAArCC,CAAAA,KAAqC,MAArCA,KAAqC,CAA9BC,KAA8B,MAA9BA,KAA8B,CAAvBC,UAAuB,MAAvBA,UAAuB,CAAXC,IAAW,MAAXA,IAAW,CAC1D,cAA8BP,QAAQ,CAAC,EAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,YAAY,2FAAG,iBAAOC,EAAP,kHACnBA,EAAE,CAACC,cAAH,GADmB,sBAEbC,CAAAA,KAAK,WAAIZ,OAAJ,mBAAqBK,IAAI,CAACQ,GAA1B,cAA0C,CACnDC,MAAM,CAAE,MAD2C,CAEnDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYb,KAAZ,CAFN,CAF0C,CAMnDc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,OAAO,CAAE,CACPd,OAAO,CAAPA,OADO,CADU,CAAf,CAN6C,CAA1C,CAAL,CAYHe,IAZG,CAYE,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAZF,EAaHF,IAbG,CAaE,SAACG,MAAD,CAAY,CAAE,CAbhB,EAcHC,KAdG,CAcGC,OAAO,CAACC,KAdX,CAFa,QAiBnBnB,OAAO,CAACoB,IAAR,CAAa,IAAb,EAjBmB,sDAAH,kBAAZnB,CAAAA,YAAY,6CAAlB,CAmBA,mBACE,sCACE,cAAM,QAAQ,CAAEA,YAAhB,wBACE,cACE,KAAK,CAAEH,OADT,CAEE,WAAW,CAAC,iBAFd,CAGE,QAAQ,CAAE,kBAACuB,KAAD,QAAWtB,CAAAA,UAAU,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAArB,EAHZ,EADF,cAME,eAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAE,CAACzB,OAAjC,kBANF,GADF,EADF,CAcD,CApCD,CAsCA,cAAeL,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\nconst MessageForm = ({ posts, token, fetchPosts, post }) => {\n  const [content, setContent] = useState(\"\");\n  const history = useHistory();\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    await fetch(`${baseURL}/posts/${post._id}/messages`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        message: {\n          content,\n        },\n      }),\n    })\n      .then((response) => response.json())\n      .then((result) => {})\n      .catch(console.error);\n    history.push(\"./\");\n  };\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          value={content}\n          placeholder=\"write a message\"\n          onChange={(event) => setContent(event.target.value)}\n        ></input>\n        <button type=\"submit\" disabled={!content}>\n          Send\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default MessageForm;\n"]},"metadata":{},"sourceType":"module"}