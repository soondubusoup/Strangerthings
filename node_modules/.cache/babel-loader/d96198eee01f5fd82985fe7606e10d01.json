{"ast":null,"code":"var _jsxFileName = \"/Users/soondubu/Desktop/Strangerthings/src/Components/MessageForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\nconst MessageForm = ({\n  posts,\n  token\n}) => {\n  _s();\n\n  const [content, setContent] = useState('');\n  const history = useHistory();\n\n  const handleSubmit = async ev => {\n    ev.preventDefault();\n    fetch(`${baseURL}/posts/${posts._id}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message: {\n          content\n        }\n      })\n    }).then(response => response.json()).then(result => {\n      console.log(result);\n    }).catch(console.error); // fetch vacations again\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: async event => {\n        event.preventDefault();\n        fetch(`${baseURL}/posts`, {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            message: {\n              content\n            }\n          })\n        }).then(response => response.json()).then(result => {\n          console.log(result);\n        });\n        history.push('/').catch(console.error);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        placeholder: \"write a message\",\n        onChange: event => setContent(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(MessageForm, \"roYtcYrENaqn9Lw9V3pHPF3FbSo=\", false, function () {\n  return [useHistory];\n});\n\n_c = MessageForm;\nexport default MessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/MessageForm.js"],"names":["React","useState","useHistory","baseURL","MessageForm","posts","token","content","setContent","history","handleSubmit","ev","preventDefault","fetch","_id","method","headers","body","JSON","stringify","message","then","response","json","result","console","log","catch","error","event","push","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,cAA3B;;;AACA,MAAMC,OAAO,GAAG,+DAAhB;;AAGA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA;AAAR,CAAD,KAAoB;AAAA;;AACtC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAyBP,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAMQ,OAAO,GAAGP,UAAU,EAA1B;;AACA,QAAMQ,YAAY,GAAG,MAAOC,EAAP,IAAc;AACjCA,IAAAA,EAAE,CAACC,cAAH;AACAC,IAAAA,KAAK,CAAE,GAAEV,OAAQ,UAASE,KAAK,CAACS,GAAI,WAA/B,EAA2C;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAkB,UAASV,KAAM;AAF5B,OAFmC;AAM5CW,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,OAAO,EAAE;AACTb,UAAAA;AADS;AADQ,OAAf;AANsC,KAA3C,CAAL,CAWOc,IAXP,CAWYC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXxB,EAYKF,IAZL,CAYUG,MAAM,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,KAdL,EAeKG,KAfL,CAeWF,OAAO,CAACG,KAfnB,EAFiC,CAkBjC;AACD,GAnBD;;AAoBA,sBAAO;AAAA,2BACL;AAAM,MAAA,QAAQ,EAAE,MAAMC,KAAN,IAAgB;AAC5BA,QAAAA,KAAK,CAACjB,cAAN;AAEAC,QAAAA,KAAK,CAAE,GAAEV,OAAQ,QAAZ,EAAqB;AACtBY,UAAAA,MAAM,EAAE,MADc;AAEtBC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,6BAAkB,UAASV,KAAM;AAF5B,WAFa;AAMtBW,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,YAAAA,OAAO,EAAE;AACLb,cAAAA;AADK;AADQ,WAAf;AANgB,SAArB,CAAL,CAWOc,IAXP,CAWYC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXxB,EAYKF,IAZL,CAYUG,MAAM,IAAI;AACZC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,SAdL;AAeIf,QAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb,EACCH,KADD,CACOF,OAAO,CAACG,KADf;AAEH,OApBL;AAAA,8BAqBQ;AAAO,QAAA,KAAK,EAAErB,OAAd;AAAuB,QAAA,WAAW,EAAC,iBAAnC;AAAqD,QAAA,QAAQ,EAAGsB,KAAD,IAAWrB,UAAU,CAACqB,KAAK,CAACE,MAAN,CAAaC,KAAd;AAApF;AAAA;AAAA;AAAA;AAAA,cArBR,eAuBQ;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAI,CAACzB;AAAnC;AAAA;AAAA;AAAA;AAAA,cAvBR;AAAA;AAAA;AAAA;AAAA;AAAA;AADK,mBAAP;AA2BD,CAlDD;;GAAMH,W;UAEYF,U;;;KAFZE,W;AAoDN,eAAeA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\n\nconst MessageForm = ({posts, token}) => {\n  const [content, setContent ] = useState('');\n  const history = useHistory()\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    fetch(`${baseURL}/posts/${posts._id}/messages`, {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n            message: {\n            content \n            }\n        })\n        }).then(response => response.json())\n        .then(result => {\n            console.log(result);\n        })\n        .catch(console.error);\n    // fetch vacations again\n  }\n  return <>\n    <form onSubmit={async(event) => {\n        event.preventDefault()\n\n        fetch(`${baseURL}/posts`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                message: {\n                    content\n                }\n            })\n            }).then(response => response.json())\n            .then(result => {\n                console.log(result);\n            })\n            history.push('/')\n            .catch(console.error);\n        }}>\n            <input value={content} placeholder='write a message' onChange={(event) => setContent(event.target.value)}>\n            </input> \n            <button type='submit' disabled = {!content}></button>\n            </form>\n  </>\n}\n\nexport default MessageForm;\n"]},"metadata":{},"sourceType":"module"}