{"ast":null,"code":"import _objectSpread from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/soondubu/Desktop/Strangerthings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ReactDOM from\"react-dom\";import{BrowserRouter as Router,Route,Switch,withRouter,Link}from\"react-router-dom\";import{Posts,AccountForm,Home,NewPost,Messages,PostView,EditPost,Search}from\"./\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var App=function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),login=_useState4[0],setLogin=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),posts=_useState8[0],setPosts=_useState8[1];var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(baseURL,\"/posts\"));case 2:resp=_context.sent;_context.next=5;return resp.json();case 5:data=_context.sent;setPosts(data.data.posts);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchPosts();case 2:case\"end\":return _context2.stop();}}},_callee2);})),[token]);var props={token:token,setToken:setToken,login:login,setLogin:setLogin,user:user,setUser:setUser,posts:posts,setPosts:setPosts,fetchPosts:fetchPosts};return/*#__PURE__*/_jsx(\"div\",{id:\"content\",children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" | \",/*#__PURE__*/_jsx(Link,{to:\"/newpost\",children:\"New Post\"}),\" |\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/posts\",children:\"Posts\"}),\" |\",\" \",token?null:/*#__PURE__*/_jsx(Link,{to:\"/account/register\",children:\"Register\"}),\" \",\" \",\" \",token?/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"}):null,token?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setToken(\"\");setLogin(false);},children:\"Log out\"}):/*#__PURE__*/_jsx(Link,{to:\"/account/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/posts\",children:/*#__PURE__*/_jsx(Posts,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/account/:method\",children:/*#__PURE__*/_jsx(AccountForm,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/newpost\",children:/*#__PURE__*/_jsx(NewPost,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",children:/*#__PURE__*/_jsx(Messages,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/posts/:postId\",children:/*#__PURE__*/_jsx(PostView,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/edit/:postId\",children:/*#__PURE__*/_jsx(EditPost,_objectSpread({},props))})]})});};export default App;","map":{"version":3,"sources":["/Users/soondubu/Desktop/Strangerthings/src/Components/App.js"],"names":["React","useEffect","useState","ReactDOM","BrowserRouter","Router","Route","Switch","withRouter","Link","Posts","AccountForm","Home","NewPost","Messages","PostView","EditPost","Search","baseURL","App","token","setToken","login","setLogin","user","setUser","posts","setPosts","fetchPosts","fetch","resp","json","data","props"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,KAFF,CAGEC,MAHF,CAIEC,UAJF,CAKEC,IALF,KAMO,kBANP,CAOA,OACEC,KADF,CAEEC,WAFF,CAGEC,IAHF,CAIEC,OAJF,CAKEC,QALF,CAMEC,QANF,CAOEC,QAPF,CAQEC,MARF,KASO,IATP,C,wFAWA,GAAMC,CAAAA,OAAO,CAAG,+DAAhB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB,cAA0BjB,QAAQ,CAAC,EAAD,CAAlC,wCAAOkB,KAAP,eAAcC,QAAd,eACA,eAA0BnB,QAAQ,CAAC,KAAD,CAAlC,yCAAOoB,KAAP,eAAcC,QAAd,eACA,eAAwBrB,QAAQ,CAAC,EAAD,CAAhC,yCAAOsB,IAAP,eAAaC,OAAb,eACA,eAA0BvB,QAAQ,CAAC,EAAD,CAAlC,yCAAOwB,KAAP,eAAcC,QAAd,eAKA,GAAMC,CAAAA,UAAU,0FAAG,uKACEC,CAAAA,KAAK,WAAIX,OAAJ,WADP,QACXY,IADW,qCAEEA,CAAAA,IAAI,CAACC,IAAL,EAFF,QAEXC,IAFW,eAIjBL,QAAQ,CAACK,IAAI,CAACA,IAAL,CAAUN,KAAX,CAAR,CAJiB,sDAAH,kBAAVE,CAAAA,UAAU,0CAAhB,CAOA3B,SAAS,sEAAC,+JACF2B,CAAAA,UAAU,EADR,yDAAD,GAEN,CAACR,KAAD,CAFM,CAAT,CAIA,GAAMa,CAAAA,KAAK,CAAG,CACZb,KAAK,CAALA,KADY,CAEZC,QAAQ,CAARA,QAFY,CAGZC,KAAK,CAALA,KAHY,CAIZC,QAAQ,CAARA,QAJY,CAKZC,IAAI,CAAJA,IALY,CAMZC,OAAO,CAAPA,OANY,CAOZC,KAAK,CAALA,KAPY,CAQZC,QAAQ,CAARA,QARY,CASZC,UAAU,CAAVA,UATY,CAAd,CAYA,mBACE,YAAK,EAAE,CAAC,SAAR,uBACE,uCACA,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADA,oBAC2B,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,sBAD3B,MACiE,GADjE,cAEA,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAFA,MAEiC,GAFjC,CAGCR,KAAK,CAAG,IAAH,cAAS,KAAC,IAAD,EAAM,EAAE,CAAC,mBAAT,sBAHf,CAIC,GAJD,KAIO,GAJP,CAKCA,KAAK,cAAG,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,qBAAH,CAAwC,IAL9C,CAMCA,KAAK,cACJ,eACE,OAAO,CAAE,kBAAM,CACbC,QAAQ,CAAC,EAAD,CAAR,CACAE,QAAQ,CAAC,KAAD,CAAR,CACD,CAJH,qBADI,cAUJ,KAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,mBAhBF,cAkBA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,IAAD,kBAAUU,KAAV,EADF,EAlBA,cAqBA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,uBACE,KAAC,KAAD,kBAAWA,KAAX,EADF,EArBA,cAwBA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,kBAAlB,uBACE,KAAC,WAAD,kBAAiBA,KAAjB,EADF,EAxBA,cA2BA,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,uBACE,KAAC,OAAD,kBAAaA,KAAb,EADF,EA3BA,cA8BA,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,uBACE,KAAC,QAAD,kBAAcA,KAAd,EADF,EA9BA,cAiCA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,gBAAlB,uBACE,KAAC,QAAD,kBAAcA,KAAd,EADF,EAjCA,cAoCA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,eAAlB,uBACE,KAAC,QAAD,kBAAcA,KAAd,EADF,EApCA,GADF,EADF,CA4CD,CA5ED,CA8EA,cAAed,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  Link,\n} from \"react-router-dom\";\nimport {\n  Posts,\n  AccountForm,\n  Home,\n  NewPost,\n  Messages,\n  PostView,\n  EditPost,\n  Search\n} from \"./\";\n\nconst baseURL = \"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [login, setLogin] = useState(false);\n  const [user, setUser] = useState({});\n  const [posts, setPosts] = useState([]);\n \n\n \n\n  const fetchPosts = async () => {\n    const resp = await fetch(`${baseURL}/posts`);\n    const data = await resp.json();\n\n    setPosts(data.data.posts);\n  };\n\n  useEffect(async () => {\n    await fetchPosts();\n  }, [token]);\n\n  const props = {\n    token,\n    setToken,\n    login,\n    setLogin,\n    user,\n    setUser,\n    posts,\n    setPosts,\n    fetchPosts,\n  };\n\n  return (\n    <div id=\"content\">\n      <center>\n      <Link to=\"/\">Home</Link> | <Link to=\"/newpost\">New Post</Link> |{\" \"}\n      <Link to=\"/posts\">Posts</Link> |{\" \"}\n      {token ? null :<Link to=\"/account/register\">Register</Link> }\n      {\" \"} {\" \"}\n      {token ? <Link to=\"/profile\">Profile</Link> : null }\n      {token ? (\n        <button\n          onClick={() => {\n            setToken(\"\");\n            setLogin(false);\n          }}\n        >\n          Log out\n        </button>\n      ) : (\n        <Link to=\"/account/login\">Login</Link>\n      )}\n      <Route exact path=\"/\">\n        <Home {...props} />\n      </Route>\n      <Route exact path=\"/posts\">\n        <Posts {...props} />\n      </Route>\n      <Route exact path=\"/account/:method\">\n        <AccountForm {...props} />\n      </Route>\n      <Route path=\"/newpost\">\n        <NewPost {...props} />\n      </Route>\n      <Route path=\"/profile\">\n        <Messages {...props} />\n      </Route>\n      <Route exact path=\"/posts/:postId\">\n        <PostView {...props} />\n      </Route>\n      <Route exact path=\"/edit/:postId\">\n        <EditPost {...props} />\n      </Route>\n      </center>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}